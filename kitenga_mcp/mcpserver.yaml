# Consolidated MCP manifest for Continue, GPT Build, and GPT Actions
# =========================================
# Each entry tells the tooling where to run the server, where the schema lives,
# and which tool definition file backs it. Use this both as a reference and as
# input to automation (Continue config generation, GPT Build custom connectors).

services:
  tepo:
    name: "Te Pō Backend"
    path: "kitenga_mcp/tepo/server.py"
    schema: "kitenga_mcp/tepo/schema.json"
    tools: "kitenga_mcp/tepo/tools.json"
    env:
      TE_PO_BASE_URL: "http://localhost:8010"
      TE_PO_AUTH_TOKEN: "optional"
      TE_PO_TIMEOUT: "60"
    description: "Te Pō chat, memory, pipeline, and kitenga routes."

  git:
    name: "GitHub MCP"
    path: "kitenga_mcp/git/server.py"
    schema: "kitenga_mcp/git/schema.json"
    tools: "kitenga_mcp/git/tools.json"
    env:
      GITHUB_TOKEN: "required"
    description: "GitHub repository, PR, issue, and file tools."

  render:
    name: "Render Deployment MCP"
    path: "kitenga_mcp/render/server.py"
    schema: "kitenga_mcp/render/schema.json"
    tools: "kitenga_mcp/render/tools.json"
    env:
      RENDER_API_KEY: "required"
    description: "Render service lifecycle and deploy tooling."

  supabase:
    name: "Supabase MCP"
    path: "kitenga_mcp/supabase/server.py"
    schema: "kitenga_mcp/supabase/schema.json"
    tools: "kitenga_mcp/supabase/tools.json"
    env:
      SUPABASE_URL: "required"
      SUPABASE_KEY: "required"
    description: "Supabase REST CRUD, RPC, and storage helpers."

  openai:
    name: "OpenAI Responses MCP"
    path: "kitenga_mcp/openai/server.py"
    schema: "kitenga_mcp/openai/schema.json"
    tools: "kitenga_mcp/openai/tools.json"
    env:
      OPENAI_API_KEY: "required"
      OPENAI_BASE_URL: "https://api.openai.com/v1"
    description: "High-level Responses API wrapper for Kitenga chat."

  cloudflare:
    name: "Cloudflare Pages MCP"
    path: "kitenga_mcp/cloudflare/server.py"
    schema: "kitenga_mcp/cloudflare/schema.json"
    tools: "kitenga_mcp/cloudflare/tools.json"
    env:
      CLOUDFLARE_API_TOKEN: "required"
      CLOUDFLARE_ACCOUNT_ID: "required"
    description: "Cloudflare Pages deployment and domain management."

env_templates:
  continue:
    description: "Sample Continue IDE env snippet"
    values:
      TE_PO_BASE_URL: "https://your-render-url.onrender.com"
      TE_PO_AUTH_TOKEN: "${PIPELINE_TOKEN}"
      GITHUB_TOKEN: "${GITHUB_TOKEN}"
      RENDER_API_KEY: "${RENDER_API_KEY}"
      SUPABASE_URL: "${SUPABASE_URL}"
      SUPABASE_KEY: "${SUPABASE_KEY}"
      OPENAI_API_KEY: "${OPENAI_API_KEY}"
      CLOUDFLARE_API_TOKEN: "${CLOUDFLARE_API_TOKEN}"
      CLOUDFLARE_ACCOUNT_ID: "${CLOUDFLARE_ACCOUNT_ID}"

actions:
  - name: "Generate Continue MCP config"
    description: "Use this manifest to create your ~/.continue/config.yaml or fastMCP startup flags."
  - name: "Import tools to GPT Build"
    description: "Point GPT Build to the listed schema/tools paths so it always matches the MCP runtime."
